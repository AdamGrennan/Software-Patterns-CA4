<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:inline="javascript">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bookstore</title>
</head>
<body>
    <h1>Bookstore</h1>

    <p th:if="${user != null}">
        Welcome, <span th:text="${user.username}">User</span><br />
        Loyalty Points: <span th:text="${loyaltyPoints}">0</span>
    </p>

    <br/><br/>

    <table border="1">
        <thead>
            <tr>
                <th>Title</th>
                <th>Author</th>
                <th>Price</th>
                <th>Category</th>
                <th>Publisher</th>
                <th>ISBN</th>
                <th>Image</th>
            </tr>
        </thead>
<tbody>
    <tr th:each="order : ${orders}">
        <td colspan="7">
            <strong>Order Total:</strong> <span th:text="${order.total}">0.00</span>
        </td>
    </tr>
    <tr th:each="order : ${orders}">
        <td colspan="7">
            <table border="1" style="width: 100%;">
                <tr th:each="item : ${order.list}">
                    <td th:text="${item.book.title}">Title</td>
                    <td th:text="${item.book.author}">Author</td>
                    <td th:text="${item.book.price}">Price</td>
                    <td th:text="${item.book.category}">Category</td>
                    <td th:text="${item.book.publisher}">Publisher</td>
                    <td th:text="${item.book.isbn}">ISBN</td>
                    <td>
                        <img th:src="@{/images/{img}(img=${item.book.image})}" alt="Book Image" width="50"/>
                    </td>
                    <td th:text="${item.quantity}">Quantity</td>
                </tr>
            </table>
        </td>
    </tr>
</tbody>
    </table>
	
	<br />
	<form th:action="@{/home}" method="get">
    <button type="submit">Home</button>
</form>
</body>
</html>
